# ============================================================================
# Shannon Mesh Mode Configuration
# ============================================================================
# P2P sync between devices without cloud.
# Devices discover each other via a signaling server and sync directly.
#
# Usage:
#   source config/env/mesh.env
#   cargo run -p shannon-api --no-default-features --features "embedded,gateway,sync"
# ============================================================================

# -----------------------------------------------------------------------------
# DEPLOYMENT MODE
# -----------------------------------------------------------------------------
# Mode: mesh = P2P sync between devices
SHANNON_MODE=mesh

# Workflow Engine: durable = Local in-process workflow execution
WORKFLOW_ENGINE=durable

# Database: surrealdb = Embedded multi-model database
DATABASE_DRIVER=surrealdb

# Path to store the SurrealDB database file
SURREALDB_PATH=./data/shannon.db

# -----------------------------------------------------------------------------
# SERVER SETTINGS
# -----------------------------------------------------------------------------
# Bind to all interfaces to allow P2P connections
SHANNON_HOST=0.0.0.0

# Port for the API server
SHANNON_PORT=8765

# Request timeout in seconds
SHANNON_TIMEOUT_SECS=300

# -----------------------------------------------------------------------------
# MESH SYNC CONFIGURATION
# -----------------------------------------------------------------------------
SYNC_MODE=mesh

# Device identity (auto-generated on first run if not set)
# SYNC_DEVICE_ID=

# Signaling server for peer discovery
SYNC_SIGNALING_SERVER=wss://signal.shannon.io

# ICE servers for NAT traversal (comma-separated)
SYNC_ICE_SERVERS=stun:stun.l.google.com:19302

# TURN server for relay fallback (optional)
# SYNC_TURN_SERVER=turn:turn.shannon.io:3478
# SYNC_TURN_USERNAME=
# SYNC_TURN_CREDENTIAL=

# -----------------------------------------------------------------------------
# SYNC SCOPE
# -----------------------------------------------------------------------------
# What data to sync between devices
SYNC_SCOPE_RUNS=true
SYNC_SCOPE_MEMORIES=true
SYNC_SCOPE_SETTINGS=true
SYNC_SCOPE_WORKFLOWS=false

# -----------------------------------------------------------------------------
# LLM PROVIDER API KEYS
# -----------------------------------------------------------------------------
# Anthropic Claude
ANTHROPIC_API_KEY=

# OpenAI GPT
# OPENAI_API_KEY=

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
RUST_LOG=info,shannon_api=debug,webrtc=warn

# Disable OpenTelemetry for local mode
OTEL_EXPORTER_OTLP_ENDPOINT=
